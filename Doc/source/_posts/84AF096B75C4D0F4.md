---
title: CPU端的思维模式
date: 2019-05-27 15:20:22
tags: [战斗]
comment: false
categories: 战斗
createtime: 1558942181
description: 如果是让游戏玩家自行对战,游戏玩家和敌方两边都设成手动操作即可,但若游戏欲设计为单人型游戏时,则须让程序决定敌方的动作。
---
###CPU端的思维模式

如果是让游戏玩家自行对战,游戏玩家和敌方两边都设成手动操作即可,但若游戏欲设计为单人型游戏时,则须让程序决定敌方的动作。

CPU端(即敌方)跟游戏玩家最大的不同是它不必考虑到下一关(另一个场景),也就是说不需要保留HP、MP或提升等级,甚至其他伙伴阵亡也不会影响到它要采取什么行动。

讲得更白一点,它的动作只要能符合当时的过关条件即可。如果没有特殊的过关条件,CPU端的过关条件就是“已方全军覆没”或“主公死亡”。

这里采用“已方全军覆没或主公死亡”的游戏规则,CPU端必须遵守这个规则去攻击游戏玩家所选的人物。

####选择攻击对象

为了简化处理起见,我们把CPU端的动作模式固定为“移动”。“攻击”。“移动”一“攻击”这个模式必须是附近有对象才有作用,而且攻击后就会离开。

因为这是在攻击前就移动,所以移动的目的就在“射程距离内捕提到攻击目标”(也就是决定对象后接近它)。此时决定攻击对象的方法有下列几种;
* ①直线距离上最近的对手
* ②移动距离上最近的对手
* ③HP最低的对手
* ④HP最高的对手
* ⑤攻击力最高的对手
* ⑥有恢复能力(或道具)的对手

根据不同的状况搭配应用会更有效。

①和②是以距离为准。可求出精确的移动距离时,则只须“无限度”的“搜寻移动范围”。即使距离无限,当已经搜寻完整张地图时,处理就会结束,所以不会有问题。比较麻烦的是如果地图太大时,处理起来会比较慢。也可以采用两段式处理法,如果距离较远时则先用直线距离搜寻,接近后再用移动距离搜寻。

③的原则是“先攻打最容易打的对象”,④、⑤则反过来“先攻打最难打的对象”。但是施展破坏力之后,自己的HP会跟着降低,因此决定攻击对象后就连续攻击直到对方阵亡为止。

自己玩过游戏的话,⑥就不难理解才对,这是一种“惯用手段”。如果对方被攻击后还会再恢复体力,会让人烦不胜烦。这种做法是抢先打倒有恢复能力或相关道具的人物。

当然也可以纠集多个人物做集中包围攻击。

要先挑软柿子吃、还是先摆倒难度最高的人物,除了游戏玩家个人对“理论”的坚持之外,跟战略应用也很有关系,所以干脆两种方法都写,再配合人物角色特征应用,这样可能会更有意思握(当然,两种都写就比较费工夫了)。

####攻击顺序

不管用哪种方法决定“攻击目标”,决定之后就可以开始攻击。如果攻击方法不只一种,则需决定要采用哪种攻击方式,不过这里就算把MP和道具用光光也无所谓,因此只要专心“永远做最有效的攻击”即可(本书的程序实例只有直接攻击,这是为了不要让说明太过复杂)。

CPU端决定攻击时行动的顺序如下:
* ①决定攻击对象
* ②决定攻击位置
* ③移动到攻击位置
* ④开始攻击

移动时有动画,所以移动和攻击要分开。

***
若游戏规则太复杂时
***

最近有些游戏的设计方式是让人物特性(如“火”、“水”、“风”、“土”)法配合游戏规则。在这种情形之下,选择怎样的攻击目标才最有效?从几个敌人中选出哪个作为攻击对象最好、还有诚怎么攻击最适合,如果要CPU学习人类的思维方式,其实最简单的做法就是“实际在脑海中跑一次看看”。只要没有显示到画面上,不管是实际攻击还是模拟攻击,对CPU而言处理那一样。实际做做看,再选择“破坏力最高”的方法即可。

虽然出场人物太多会拉长计算时间,不过现在电脑配备的CPU等级、速度都很够快,只是一个动作的计算还不成问题。

如果需要先读入好几个动作,多少会影响到计算的快慢,不过RPG游戏在设计上本来就没什么需先读入的动作,所以应该不需要做特别处理。